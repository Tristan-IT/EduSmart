# ğŸ¯ School Owner Flow - Complete Integration Map

## ğŸ“Š System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (React)                        â”‚
â”‚                     http://localhost:5173                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP Requests
                              â”‚ (fetch API)
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND (Express.js)                       â”‚
â”‚                     http://localhost:5000                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Mongoose ODM
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATABASE (MongoDB Atlas)                    â”‚
â”‚              Collections: users, schools, classes               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Registration Flow (Detailed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BROWSER         â”‚
â”‚   (User visits)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 1. Navigate to
           â”‚    /school-owner-registration
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SchoolOwnerRegistration.tsx                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Form Fields:                                                    â”‚
â”‚  â”œâ”€ Owner Info                                                   â”‚
â”‚  â”‚  â”œâ”€ ownerName: "Dr. Budi Santoso"                            â”‚
â”‚  â”‚  â”œâ”€ ownerEmail: "budi@sekolahku.sch.id"                      â”‚
â”‚  â”‚  â”œâ”€ ownerPassword: "password123"                             â”‚
â”‚  â”‚  â””â”€ confirmPassword: "password123"                           â”‚
â”‚  â”‚                                                               â”‚
â”‚  â””â”€ School Info                                                  â”‚
â”‚     â”œâ”€ schoolName: "SMA Negeri 1 Jakarta"                       â”‚
â”‚     â”œâ”€ address: "Jl. Pendidikan No. 123"                        â”‚
â”‚     â”œâ”€ city: "Jakarta"                                           â”‚
â”‚     â”œâ”€ province: "DKI Jakarta"                                   â”‚
â”‚     â”œâ”€ phone: "021-1234567" (optional)                          â”‚
â”‚     â””â”€ totalClasses: "36" (optional)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 2. User clicks "Daftar Sekolah"
           â”‚
           â”‚ 3. Validation (Frontend)
           â”‚    âœ“ Password match?
           â”‚    âœ“ Password length >= 6?
           â”‚    âœ“ Required fields filled?
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  fetch("http://localhost:5000/api/school-owner/register", {     â”‚
â”‚    method: "POST",                                               â”‚
â”‚    headers: { "Content-Type": "application/json" },             â”‚
â”‚    body: JSON.stringify({                                        â”‚
â”‚      name: "Dr. Budi Santoso",                                  â”‚
â”‚      email: "budi@sekolahku.sch.id",                            â”‚
â”‚      password: "password123",                                    â”‚
â”‚      schoolName: "SMA Negeri 1 Jakarta",                        â”‚
â”‚      address: "Jl. Pendidikan No. 123",                         â”‚
â”‚      city: "Jakarta",                                            â”‚
â”‚      province: "DKI Jakarta",                                    â”‚
â”‚      phone: "021-1234567",                                       â”‚
â”‚      totalClasses: 36                                            â”‚
â”‚    })                                                            â”‚
â”‚  })                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 4. HTTP POST Request
           â”‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND: server/src/routes/schoolOwner.ts                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  router.post("/register", registerSchoolOwner);                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 5. Route to Controller
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND: server/src/controllers/schoolOwnerController.ts       â”‚
â”‚  registerSchoolOwner function                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Step 1: Validation                                              â”‚
â”‚  â”œâ”€ Required fields present?                                     â”‚
â”‚  â”œâ”€ Email format valid?                                          â”‚
â”‚  â””â”€ Password strength ok?                                        â”‚
â”‚                                                                  â”‚
â”‚  Step 2: Check Duplicates (MongoDB)                             â”‚
â”‚  â”œâ”€ await UserModel.findOne({ email })                          â”‚
â”‚  â””â”€ If exists â†’ return 400 "Email already exists"               â”‚
â”‚                                                                  â”‚
â”‚  Step 3: Hash Password                                           â”‚
â”‚  â””â”€ passwordHash = await bcryptjs.hash(password, 10)            â”‚
â”‚                                                                  â”‚
â”‚  Step 4: Create Owner User                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ const owner = await UserModel.create({                  â”‚   â”‚
â”‚  â”‚   name: "Dr. Budi Santoso",                             â”‚   â”‚
â”‚  â”‚   email: "budi@sekolahku.sch.id",                       â”‚   â”‚
â”‚  â”‚   passwordHash: "$2b$10$...",                           â”‚   â”‚
â”‚  â”‚   role: "school_owner",                                 â”‚   â”‚
â”‚  â”‚   isSchoolOwner: true,                                  â”‚   â”‚
â”‚  â”‚   avatar: "https://api.dicebear.com/..."               â”‚   â”‚
â”‚  â”‚ })                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Step 5: Create School                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ const school = await SchoolModel.create({               â”‚   â”‚
â”‚  â”‚   schoolId: "SCH-" + randomDigits(6), // SCH-123456     â”‚   â”‚
â”‚  â”‚   schoolName: "SMA Negeri 1 Jakarta",                   â”‚   â”‚
â”‚  â”‚   address: "Jl. Pendidikan No. 123",                    â”‚   â”‚
â”‚  â”‚   city: "Jakarta",                                       â”‚   â”‚
â”‚  â”‚   province: "DKI Jakarta",                               â”‚   â”‚
â”‚  â”‚   owner: owner._id, // Reference to owner               â”‚   â”‚
â”‚  â”‚   ownerName: "Dr. Budi Santoso",                        â”‚   â”‚
â”‚  â”‚   ownerEmail: "budi@sekolahku.sch.id",                  â”‚   â”‚
â”‚  â”‚   totalClasses: 36,                                      â”‚   â”‚
â”‚  â”‚   academicYear: "2024/2025",                            â”‚   â”‚
â”‚  â”‚   subscriptionPlan: "free",                             â”‚   â”‚
â”‚  â”‚   subscriptionStatus: "active"                          â”‚   â”‚
â”‚  â”‚ })                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Step 6: Update Owner with School Reference                     â”‚
â”‚  â”œâ”€ owner.school = school._id                                   â”‚
â”‚  â”œâ”€ owner.schoolId = school.schoolId  // "SCH-123456"          â”‚
â”‚  â”œâ”€ owner.schoolName = school.schoolName                        â”‚
â”‚  â”œâ”€ owner.ownedSchool = school._id                              â”‚
â”‚  â””â”€ await owner.save()                                          â”‚
â”‚                                                                  â”‚
â”‚  Step 7: Generate JWT Token                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ const token = signAccessToken({                         â”‚   â”‚
â”‚  â”‚   sub: owner._id.toString(),      // Subject (user ID)  â”‚   â”‚
â”‚  â”‚   role: "school_owner",            // Role              â”‚   â”‚
â”‚  â”‚   name: "Dr. Budi Santoso",        // Name              â”‚   â”‚
â”‚  â”‚   email: "budi@sekolahku.sch.id"   // Email             â”‚   â”‚
â”‚  â”‚ })                                                       â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ Token contents (decoded):                               â”‚   â”‚
â”‚  â”‚ {                                                        â”‚   â”‚
â”‚  â”‚   "sub": "67...",                                       â”‚   â”‚
â”‚  â”‚   "role": "school_owner",                               â”‚   â”‚
â”‚  â”‚   "name": "Dr. Budi Santoso",                           â”‚   â”‚
â”‚  â”‚   "email": "budi@sekolahku.sch.id",                     â”‚   â”‚
â”‚  â”‚   "iat": 1700000000,   // Issued at                     â”‚   â”‚
â”‚  â”‚   "exp": 1700604800    // Expires (7 days)              â”‚   â”‚
â”‚  â”‚ }                                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Step 8: Return Response                                         â”‚
â”‚  â””â”€ res.status(201).json({ ... })                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 6. HTTP Response
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response Body (JSON):                                           â”‚
â”‚  {                                                               â”‚
â”‚    "success": true,                                              â”‚
â”‚    "message": "School and owner account created successfully",  â”‚
â”‚    "data": {                                                     â”‚
â”‚      "school": {                                                 â”‚
â”‚        "id": "674c5a3f8e1234567890abcd",                        â”‚
â”‚        "schoolId": "SCH-123456",      â† IMPORTANT!              â”‚
â”‚        "schoolName": "SMA Negeri 1 Jakarta",                    â”‚
â”‚        "city": "Jakarta",                                        â”‚
â”‚        "province": "DKI Jakarta",                                â”‚
â”‚        "totalClasses": 36,                                       â”‚
â”‚        "academicYear": "2024/2025"                              â”‚
â”‚      },                                                          â”‚
â”‚      "user": {                                                   â”‚
â”‚        "id": "674c5a3f8e1234567890aaaa",                        â”‚
â”‚        "name": "Dr. Budi Santoso",                              â”‚
â”‚        "email": "budi@sekolahku.sch.id",                        â”‚
â”‚        "role": "school_owner",                                   â”‚
â”‚        "schoolId": "SCH-123456",                                â”‚
â”‚        "schoolName": "SMA Negeri 1 Jakarta",                    â”‚
â”‚        "avatar": "https://api.dicebear.com/..."                 â”‚
â”‚      },                                                          â”‚
â”‚      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."        â”‚
â”‚    }                                                             â”‚
â”‚  }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 7. Response received
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND: SchoolOwnerRegistration.tsx                          â”‚
â”‚  handleSubmit function (continued)                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  const data = await response.json();                            â”‚
â”‚                                                                  â”‚
â”‚  if (!response.ok) {                                             â”‚
â”‚    throw new Error(data.message);                               â”‚
â”‚  }                                                               â”‚
â”‚                                                                  â”‚
â”‚  // Success!                                                     â”‚
â”‚  setGeneratedSchoolId(data.data.school.schoolId);  // "SCH-..." â”‚
â”‚  setShowSuccessDialog(true);  // Show modal                     â”‚
â”‚                                                                  â”‚
â”‚  // Store token                                                  â”‚
â”‚  if (data.data.token) {                                         â”‚
â”‚    localStorage.setItem("token", data.data.token);              â”‚
â”‚  }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 8. Show Success Dialog
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dialog Component                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  âœ… Pendaftaran Berhasil!                                  â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  School ID Anda: SCH-123456                                â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  [ Copy School ID ]                                        â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  âš ï¸ Simpan School ID ini untuk registrasi guru & siswa    â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚                          [ Lanjut ke Dashboard ]           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 9. User clicks "Lanjut ke Dashboard"
           â”‚
           â”‚ 10. navigate("/school-owner-dashboard")
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FRONTEND: App.tsx                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  <Route                                                          â”‚
â”‚    path="/school-owner-dashboard"                               â”‚
â”‚    element={                                                     â”‚
â”‚      <ProtectedRoute allowRoles={["school_owner"]}>             â”‚
â”‚        <SchoolOwnerDashboard />                                  â”‚
â”‚      </ProtectedRoute>                                           â”‚
â”‚    }                                                             â”‚
â”‚  />                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 11. ProtectedRoute checks:
           â”‚     - Token exists in localStorage?
           â”‚     - Token valid (not expired)?
           â”‚     - User role = "school_owner"?
           â”‚
           â”‚ 12. All checks pass âœ“
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SchoolOwnerDashboard.tsx                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Dashboard tampil dengan:                                        â”‚
â”‚  â”œâ”€ Welcome message: "Selamat datang, Dr. Budi Santoso"         â”‚
â”‚  â”œâ”€ School info: "SMA Negeri 1 Jakarta (SCH-123456)"            â”‚
â”‚  â”œâ”€ Statistics cards                                             â”‚
â”‚  â”œâ”€ Teacher management section                                   â”‚
â”‚  â”œâ”€ Class management section                                     â”‚
â”‚  â””â”€ Student overview                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Login Flow (Detailed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BROWSER         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 1. Navigate to /login
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Login.tsx                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Tabs: [Siswa] [Guru] [Sekolah]                                â”‚
â”‚                                                                  â”‚
â”‚  User selects: "Sekolah" tab                                    â”‚
â”‚                                                                  â”‚
â”‚  Form:                                                           â”‚
â”‚  â”œâ”€ Email: budi@sekolahku.sch.id                                â”‚
â”‚  â””â”€ Password: password123                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 2. User clicks "Login"
           â”‚
           â”‚ 3. Determine endpoint based on tab
           â”‚    loginType = "school"
           â”‚    â†’ endpoint = "/api/school-owner/login"
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  fetch("http://localhost:5000/api/school-owner/login", {        â”‚
â”‚    method: "POST",                                               â”‚
â”‚    body: JSON.stringify({                                        â”‚
â”‚      email: "budi@sekolahku.sch.id",                            â”‚
â”‚      password: "password123"                                     â”‚
â”‚    })                                                            â”‚
â”‚  })                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 4. HTTP POST
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND: server/src/routes/schoolOwner.ts                      â”‚
â”‚  router.post("/login", loginSchoolOwner);                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 5. Route to Controller
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BACKEND: loginSchoolOwner function                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Step 1: Find user with email + role                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ const owner = await UserModel.findOne({                 â”‚   â”‚
â”‚  â”‚   email: "budi@sekolahku.sch.id",                       â”‚   â”‚
â”‚  â”‚   role: "school_owner"                                  â”‚   â”‚
â”‚  â”‚ }).populate("school");                                  â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ If not found â†’ return 401 "Invalid credentials"         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Step 2: Verify password                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ const isPasswordValid = await bcryptjs.compare(         â”‚   â”‚
â”‚  â”‚   "password123",          // Plain text from request    â”‚   â”‚
â”‚  â”‚   owner.passwordHash      // Hashed from database       â”‚   â”‚
â”‚  â”‚ );                                                       â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ If false â†’ return 401 "Invalid credentials"             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Step 3: Generate JWT token                                     â”‚
â”‚  â””â”€ token = signAccessToken({ sub, role, name, email })        â”‚
â”‚                                                                  â”‚
â”‚  Step 4: Get school data                                         â”‚
â”‚  â””â”€ school = await SchoolModel.findById(owner.school)           â”‚
â”‚                                                                  â”‚
â”‚  Step 5: Return response                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 6. HTTP Response
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response:                                                       â”‚
â”‚  {                                                               â”‚
â”‚    "success": true,                                              â”‚
â”‚    "message": "Login successful",                               â”‚
â”‚    "token": "eyJhbGc...",                                        â”‚
â”‚    "user": {                                                     â”‚
â”‚      "id": "67...",                                             â”‚
â”‚      "name": "Dr. Budi Santoso",                                â”‚
â”‚      "email": "budi@sekolahku.sch.id",                          â”‚
â”‚      "role": "school_owner",                                     â”‚
â”‚      "schoolId": "SCH-123456",                                  â”‚
â”‚      "schoolName": "SMA Negeri 1 Jakarta"                       â”‚
â”‚    },                                                            â”‚
â”‚    "school": { ... }                                             â”‚
â”‚  }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 7. Frontend processes response
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Login.tsx (continued)                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  // Store token and user data                                   â”‚
â”‚  login({                                                         â”‚
â”‚    token: data.token,                                            â”‚
â”‚    user: {                                                       â”‚
â”‚      id: data.user.id,                                          â”‚
â”‚      name: data.user.name,                                      â”‚
â”‚      email: data.user.email,                                    â”‚
â”‚      role: data.user.role,                                      â”‚
â”‚      ...                                                         â”‚
â”‚    }                                                             â”‚
â”‚  });                                                             â”‚
â”‚                                                                  â”‚
â”‚  toast.success("Login berhasil!");                              â”‚
â”‚                                                                  â”‚
â”‚  // Navigate based on role                                       â”‚
â”‚  if (loginType === "school") {                                  â”‚
â”‚    navigate("/school-owner-dashboard");                         â”‚
â”‚  }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ 8. User di-redirect ke dashboard
           â†“
   [SchoolOwnerDashboard]
```

---

## ğŸ—‚ï¸ File Structure Map

```
project-root/
â”‚
â”œâ”€â”€ src/ (FRONTEND)
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Login.tsx                    â† Login page (3 tabs)
â”‚   â”‚   â”œâ”€â”€ SchoolOwnerRegistration.tsx  â† Registration form
â”‚   â”‚   â””â”€â”€ SchoolOwnerDashboard.tsx     â† Dashboard setelah login
â”‚   â”‚
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ AuthContext.tsx              â† User state management
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ ProtectedRoute.tsx           â† Route guard
â”‚   â”‚
â”‚   â””â”€â”€ App.tsx                          â† Routes definition
â”‚
â””â”€â”€ server/ (BACKEND)
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ routes/
    â”‚   â”‚   â””â”€â”€ schoolOwner.ts           â† API routes
    â”‚   â”‚
    â”‚   â”œâ”€â”€ controllers/
    â”‚   â”‚   â””â”€â”€ schoolOwnerController.ts â† Business logic
    â”‚   â”‚
    â”‚   â”œâ”€â”€ models/
    â”‚   â”‚   â”œâ”€â”€ User.ts                  â† User schema
    â”‚   â”‚   â””â”€â”€ School.ts                â† School schema
    â”‚   â”‚
    â”‚   â”œâ”€â”€ middleware/
    â”‚   â”‚   â””â”€â”€ authenticate.ts          â† JWT verification
    â”‚   â”‚
    â”‚   â””â”€â”€ utils/
    â”‚       â””â”€â”€ token.ts                 â† JWT sign/verify
    â”‚
    â””â”€â”€ .env                             â† Environment variables
        â”œâ”€â”€ JWT_SECRET
        â”œâ”€â”€ SESSION_SECRET
        â””â”€â”€ MONGODB_URI
```

---

## ğŸ”‘ Key Integration Points

### 1. **API Endpoints**

| Method | Endpoint | Frontend Call | Backend Handler |
|--------|----------|---------------|-----------------|
| POST | `/api/school-owner/register` | SchoolOwnerRegistration.tsx | registerSchoolOwner |
| POST | `/api/school-owner/login` | Login.tsx | loginSchoolOwner |
| GET | `/api/school-owner/:schoolId` | SchoolOwnerDashboard.tsx | getSchoolDetails |

### 2. **Data Flow**

```
Frontend Form
    â†“ (fetch)
Backend Validation
    â†“
MongoDB Save
    â†“
JWT Generation
    â†“ (response)
Frontend Storage (localStorage)
    â†“
AuthContext Update
    â†“
Navigate to Dashboard
```

### 3. **Authentication Flow**

```
User Login
    â†“
Backend verify email/password
    â†“
Generate JWT token (expires 7 days)
    â†“
Frontend store token in localStorage
    â†“
Every API call: send token in Authorization header
    â†“
Backend middleware verify token
    â†“
Extract user info from token
    â†“
Allow/Deny request
```

---

## âœ… Integration Verified!

Semua komponen sudah terintegrasi dengan baik:
- âœ… Frontend form â†’ Backend API
- âœ… Backend validation â†’ MongoDB storage
- âœ… JWT generation â†’ Frontend storage
- âœ… Protected routes â†’ Role checking
- âœ… School ID generation â†’ Teacher/Student registration

**Sistem siap untuk production testing!** ğŸš€
